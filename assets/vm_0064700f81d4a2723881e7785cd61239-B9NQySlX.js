var P=Object.defineProperty;var S=(t,r,e)=>r in t?P(t,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[r]=e;var x=(t,r,e)=>S(t,typeof r!="symbol"?r+"":r,e);import{g as B,d as y,h as A,a as j,j as s,e as k,c as g,r as E,k as M,w as W,b as _,l as v}from"./index-DFpG6Uas.js";import{g as w,B as p}from"./index-B8QgcPLB.js";import{S as $}from"./index-BCz3h36I.js";import{G as R}from"./index-D024G7a-.js";import{r as G}from"./reflow-D11wV1eq.js";const F=Array.from({length:10},(t,r)=>`${r}`);class O{constructor(){x(this,"$wrapper",{current:null});x(this,"items",new Map)}get wrapper(){return this.$wrapper.current}}function T(t){const{char:r}=t,e=B(()=>new O),[n,o]=y([null,r]),[i,a]=y(!0),c=(u,l)=>{const b=w(e.wrapper),C=w(l),N=b.top-C.top;u.style.setProperty("transform",`translate3d(0, ${N}px, 0)`)},m=u=>{const l=e.items.get(n[0]);!e.wrapper||!l||(c(u,l),G(u))},d=u=>{const l=e.items.get(n[1]);!e.wrapper||!l||c(u,l)},f=()=>{a(!0)};return{returnEarly:A(r,()=>{o([n[1],r]),a(!1)}),refs:e,showChar:i,handleEnter:m,handleEntering:d,handleEntered:f}}function D(t){const{char:r}=t,e=j("badge-scroll-number"),{returnEarly:n,refs:o,showChar:i,handleEnter:a,handleEntering:c,handleEntered:m}=T(t);return n?null:i?s.jsx(s.Fragment,{children:r}):s.jsx(k,{appear:!0,when:!0,timeouts:500,classNames:`${e}-motion`,onEnter:a,onEntering:c,onEntered:m,children:s.jsx("span",{ref:o.$wrapper,className:e,children:F.map(d=>s.jsx("span",{ref:f=>{o.items.set(d,f)},children:d},d))})},r)}function H(t,r){const{dot:e,className:n,classNames:o={}}=r;return{root:g(t,{[`${t}--dot`]:e},n,o.root),indicator:g(`${t}__indicator`,o.indicator)}}function L(t){const{count:r,maxCount:e}=t;return E.useMemo(()=>{if(!M(r))return null;const n=Math.min(r,e),o=`${Math.abs(n)}`.split("").map((i,a)=>({char:i,key:`${a}`,scroll:!0}));return n<0&&o.unshift({char:"-",key:"-",scroll:!1}),r>e&&o.push({char:"+",key:"+",scroll:!1}),o},[r,e])}const V={maxCount:99},q={onEnter:t=>{t.style.setProperty("width","0px")},onEntering:t=>{t.style.setProperty("width",`${t.scrollWidth}px`)},onEntered:t=>{t.style.removeProperty("width")},onEnterCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExit:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)},onExiting:t=>{t.style.setProperty("width","0px")},onExited:t=>{t.style.removeProperty("width")},onExitCancel:t=>{t.style.setProperty("width",`${t.offsetWidth}px`)}};function z(t){const r=W(t,V),{children:e}=r,n=j("badge"),o=H(n,r),i=_(r),a=L(r);return s.jsxs("span",{className:o.root,style:i.root,children:[e,v(a)&&!!a.length&&s.jsx("sup",{className:o.indicator,style:i.indicator,children:s.jsx(R,{classNames:`${n}-scroll-group-motion`,...q,children:a.map(c=>s.jsx("span",{className:`${n}-scroll-group`,children:c.scroll?s.jsx(D,{char:c.char}):c.char},c.key))})})]})}function I(t){return s.jsx("div",{children:"badge.ribbon"})}const h=Object.assign(z,{Ribbon:I});function tt(){return s.jsxs($,{children:[s.jsx(h,{count:12,children:s.jsx(p,{children:"Badge"})}),s.jsx(h,{count:23,children:s.jsx(p,{children:"Badge"})})]})}function rt(){const[t,r]=E.useState(12);return s.jsx($,{children:s.jsx(h,{count:t,children:s.jsx(p,{onClick:()=>{r(~~(Math.random()*100))},children:"Badge"})})})}function et(){return s.jsx(h,{dot:!0,count:1,children:s.jsx(p,{children:"Badge"})})}function st(){return s.jsx("div",{children:"建设中,敬请期待!"})}export{tt as A,rt as a,et as b,st as c};
